{
  "sequenceId": "autoroute_debug",
  "name": "Autoroute Debug Test",
  "description": "Comprehensive debugging test for autoroute/conditional logic with various edge cases",
  "messages": [
    {
      "id": 1,
      "text": "\ud83d\udd2c Welcome to the Autoroute Debug Test! ||| This sequence will test various conditional scenarios and help identify issues. ||| Let's start by collecting some basic data.",
      "nextMessageId": 2,
      "type": "bot"
    },
    {
      "id": 2,
      "text": "First, let's set your age (we'll test numeric comparisons):",
      "nextMessageId": 3,
      "type": "bot"
    },
    {
      "id": 3,
      "storeKey": "debug.age",
      "placeholderText": "Enter your age (number)...",
      "nextMessageId": 4,
      "type": "textInput"
    },
    {
      "id": 4,
      "text": "Now let's set your experience level:",
      "nextMessageId": 5,
      "type": "bot"
    },
    {
      "id": 5,
      "storeKey": "debug.experience",
      "choices": [
        {
          "text": "Beginner",
          "value": "beginner",
          "nextMessageId": 6
        },
        {
          "text": "Intermediate",
          "value": "intermediate",
          "nextMessageId": 6
        },
        {
          "text": "Expert",
          "value": "expert",
          "nextMessageId": 6
        }
      ],
      "type": "choice"
    },
    {
      "id": 6,
      "text": "Set a boolean preference:",
      "nextMessageId": 7,
      "type": "bot"
    },
    {
      "id": 7,
      "storeKey": "debug.premium",
      "choices": [
        {
          "text": "Yes, I'm premium",
          "value": true,
          "nextMessageId": 8
        },
        {
          "text": "No, I'm not premium",
          "value": false,
          "nextMessageId": 8
        }
      ],
      "type": "choice"
    },
    {
      "id": 8,
      "text": "Let's set a string value with special characters:",
      "nextMessageId": 9,
      "type": "bot"
    },
    {
      "id": 9,
      "storeKey": "debug.special_string",
      "placeholderText": "Enter text with >= or == symbols...",
      "nextMessageId": 10,
      "type": "textInput"
    },
    {
      "id": 10,
      "text": "\ud83d\udcca Data Collection Complete! ||| Age: {debug.age} ||| Experience: {debug.experience} ||| Premium: {debug.premium} ||| Special String: {debug.special_string}",
      "delay": 2000,
      "nextMessageId": 100,
      "type": "bot"
    },
    {
      "id": 100,
      "text": "\ud83d\udd0d Starting Autoroute Tests...",
      "nextMessageId": 101,
      "type": "bot"
    },
    {
      "id": 101,
      "sender": "system",
      "routes": [
        {
          "condition": "debug.age >= 18",
          "nextMessageId": 200
        },
        {
          "condition": "debug.age < 18",
          "nextMessageId": 210
        },
        {
          "default": true,
          "nextMessageId": 220
        }
      ],
      "type": "autoroute"
    },
    {
      "id": 200,
      "text": "\u2705 AGE TEST PASSED: You are 18 or older ({debug.age}) ||| Testing string equality next...",
      "delay": 1500,
      "nextMessageId": 300,
      "type": "bot"
    },
    {
      "id": 210,
      "text": "\u2705 AGE TEST PASSED: You are under 18 ({debug.age}) ||| Testing string equality next...",
      "delay": 1500,
      "nextMessageId": 300,
      "type": "bot"
    },
    {
      "id": 220,
      "text": "\u26a0\ufe0f AGE TEST: Default route taken (age: {debug.age}) ||| This means the age comparison failed ||| Testing string equality next...",
      "delay": 1500,
      "nextMessageId": 300,
      "type": "bot"
    },
    {
      "id": 300,
      "sender": "system",
      "routes": [
        {
          "condition": "debug.experience == 'expert'",
          "nextMessageId": 400
        },
        {
          "condition": "debug.experience == 'intermediate'",
          "nextMessageId": 410
        },
        {
          "condition": "debug.experience == 'beginner'",
          "nextMessageId": 420
        },
        {
          "default": true,
          "nextMessageId": 430
        }
      ],
      "type": "autoroute"
    },
    {
      "id": 400,
      "text": "\u2705 STRING TEST PASSED: You are an expert! ||| Testing boolean next...",
      "delay": 1500,
      "nextMessageId": 500,
      "type": "bot"
    },
    {
      "id": 410,
      "text": "\u2705 STRING TEST PASSED: You are intermediate! ||| Testing boolean next...",
      "delay": 1500,
      "nextMessageId": 500,
      "type": "bot"
    },
    {
      "id": 420,
      "text": "\u2705 STRING TEST PASSED: You are a beginner! ||| Testing boolean next...",
      "delay": 1500,
      "nextMessageId": 500,
      "type": "bot"
    },
    {
      "id": 430,
      "text": "\u26a0\ufe0f STRING TEST: Default route taken (experience: {debug.experience}) ||| This means the string comparison failed ||| Testing boolean next...",
      "delay": 1500,
      "nextMessageId": 500,
      "type": "bot"
    },
    {
      "id": 500,
      "sender": "system",
      "routes": [
        {
          "condition": "debug.premium == true",
          "nextMessageId": 600
        },
        {
          "condition": "debug.premium == false",
          "nextMessageId": 610
        },
        {
          "default": true,
          "nextMessageId": 620
        }
      ],
      "type": "autoroute"
    },
    {
      "id": 600,
      "text": "\u2705 BOOLEAN TEST PASSED: You are premium! ||| Testing inequality next...",
      "delay": 1500,
      "nextMessageId": 700,
      "type": "bot"
    },
    {
      "id": 610,
      "text": "\u2705 BOOLEAN TEST PASSED: You are not premium! ||| Testing inequality next...",
      "delay": 1500,
      "nextMessageId": 700,
      "type": "bot"
    },
    {
      "id": 620,
      "text": "\u26a0\ufe0f BOOLEAN TEST: Default route taken (premium: {debug.premium}) ||| This means the boolean comparison failed ||| Testing inequality next...",
      "delay": 1500,
      "nextMessageId": 700,
      "type": "bot"
    },
    {
      "id": 700,
      "sender": "system",
      "routes": [
        {
          "condition": "debug.experience != 'expert'",
          "nextMessageId": 800
        },
        {
          "condition": "debug.experience != 'beginner'",
          "nextMessageId": 810
        },
        {
          "default": true,
          "nextMessageId": 820
        }
      ],
      "type": "autoroute"
    },
    {
      "id": 800,
      "text": "\u2705 INEQUALITY TEST PASSED: You are not an expert! ||| Testing complex conditions next...",
      "delay": 1500,
      "nextMessageId": 900,
      "type": "bot"
    },
    {
      "id": 810,
      "text": "\u2705 INEQUALITY TEST PASSED: You are not a beginner! ||| Testing complex conditions next...",
      "delay": 1500,
      "nextMessageId": 900,
      "type": "bot"
    },
    {
      "id": 820,
      "text": "\u26a0\ufe0f INEQUALITY TEST: Default route taken ||| This means the inequality comparison failed ||| Testing complex conditions next...",
      "delay": 1500,
      "nextMessageId": 900,
      "type": "bot"
    },
    {
      "id": 900,
      "sender": "system",
      "routes": [
        {
          "condition": "debug.age > 65",
          "nextMessageId": 1000
        },
        {
          "condition": "debug.age > 30",
          "nextMessageId": 1010
        },
        {
          "condition": "debug.age > 18",
          "nextMessageId": 1020
        },
        {
          "condition": "debug.age <= 18",
          "nextMessageId": 1030
        },
        {
          "default": true,
          "nextMessageId": 1040
        }
      ],
      "type": "autoroute"
    },
    {
      "id": 1000,
      "text": "\u2705 COMPLEX AGE TEST: Senior (65+) - Age: {debug.age} ||| Testing edge cases next...",
      "delay": 1500,
      "nextMessageId": 1100,
      "type": "bot"
    },
    {
      "id": 1010,
      "text": "\u2705 COMPLEX AGE TEST: Adult (30+) - Age: {debug.age} ||| Testing edge cases next...",
      "delay": 1500,
      "nextMessageId": 1100,
      "type": "bot"
    },
    {
      "id": 1020,
      "text": "\u2705 COMPLEX AGE TEST: Young Adult (18+) - Age: {debug.age} ||| Testing edge cases next...",
      "delay": 1500,
      "nextMessageId": 1100,
      "type": "bot"
    },
    {
      "id": 1030,
      "text": "\u2705 COMPLEX AGE TEST: Minor (\u226418) - Age: {debug.age} ||| Testing edge cases next...",
      "delay": 1500,
      "nextMessageId": 1100,
      "type": "bot"
    },
    {
      "id": 1040,
      "text": "\u26a0\ufe0f COMPLEX AGE TEST: Default route taken - Age: {debug.age} ||| This means all age comparisons failed ||| Testing edge cases next...",
      "delay": 1500,
      "nextMessageId": 1100,
      "type": "bot"
    },
    {
      "id": 1100,
      "text": "\ud83e\uddea Testing Edge Cases: ||| Special String: '{debug.special_string}' ||| Now testing if it contains problematic operators...",
      "delay": 2000,
      "nextMessageId": 1101,
      "type": "bot"
    },
    {
      "id": 1101,
      "sender": "system",
      "routes": [
        {
          "condition": "debug.special_string == 'test >= 5'",
          "nextMessageId": 1200
        },
        {
          "condition": "debug.special_string == 'value == true'",
          "nextMessageId": 1210
        },
        {
          "condition": "debug.special_string == ''",
          "nextMessageId": 1220
        },
        {
          "default": true,
          "nextMessageId": 1230
        }
      ],
      "type": "autoroute"
    },
    {
      "id": 1200,
      "text": "\u2705 EDGE CASE TEST: Found 'test >= 5' - String parsing worked correctly!",
      "delay": 1500,
      "nextMessageId": 1300,
      "type": "bot"
    },
    {
      "id": 1210,
      "text": "\u2705 EDGE CASE TEST: Found 'value == true' - String parsing worked correctly!",
      "delay": 1500,
      "nextMessageId": 1300,
      "type": "bot"
    },
    {
      "id": 1220,
      "text": "\u2705 EDGE CASE TEST: Empty string detected correctly!",
      "delay": 1500,
      "nextMessageId": 1300,
      "type": "bot"
    },
    {
      "id": 1230,
      "text": "\u2705 EDGE CASE TEST: Your string '{debug.special_string}' didn't match predefined patterns - this is normal!",
      "delay": 1500,
      "nextMessageId": 1300,
      "type": "bot"
    },
    {
      "id": 1300,
      "text": "\ud83d\udd70\ufe0f Testing Session-Based Conditions... ||| Daily Visits: {session.visitCount} ||| Total Visits: {session.totalVisitCount} ||| Time of Day: {session.timeOfDay} ||| Weekend: {session.isWeekend}",
      "delay": 2000,
      "nextMessageId": 1301,
      "type": "bot"
    },
    {
      "id": 1301,
      "sender": "system",
      "routes": [
        {
          "condition": "session.visitCount > 1 && session.timeOfDay == 1",
          "nextMessageId": 1310
        },
        {
          "condition": "session.visitCount == 1 || session.timeOfDay >= 3",
          "nextMessageId": 1320
        },
        {
          "condition": "session.isWeekend == true",
          "nextMessageId": 1330
        },
        {
          "condition": "session.daysSinceFirstVisit >= 1",
          "nextMessageId": 1340
        },
        {
          "default": true,
          "nextMessageId": 1350
        }
      ],
      "type": "autoroute"
    },
    {
      "id": 1310,
      "text": "\u2705 SESSION TEST: Returning morning user! (Visit: {session.visitCount}, Time: {session.timeOfDay})",
      "delay": 1500,
      "nextMessageId": 1400,
      "type": "bot"
    },
    {
      "id": 1320,
      "text": "\u2705 SESSION TEST: First visit or evening/night user! (Visit: {session.visitCount}, Time: {session.timeOfDay})",
      "delay": 1500,
      "nextMessageId": 1400,
      "type": "bot"
    },
    {
      "id": 1330,
      "text": "\u2705 SESSION TEST: Weekend user! Enjoy your weekend! (Weekend: {session.isWeekend})",
      "delay": 1500,
      "nextMessageId": 1400,
      "type": "bot"
    },
    {
      "id": 1340,
      "text": "\u2705 SESSION TEST: Returning user! (Days since first visit: {session.daysSinceFirstVisit})",
      "delay": 1500,
      "nextMessageId": 1400,
      "type": "bot"
    },
    {
      "id": 1350,
      "text": "\u26a0\ufe0f SESSION TEST: Default route - First weekday visit in morning",
      "delay": 1500,
      "nextMessageId": 1400,
      "type": "bot"
    },
    {
      "id": 1400,
      "text": "\ud83c\udfc1 All Tests Complete! ||| Summary: ||| Age: {debug.age} ||| Experience: {debug.experience} ||| Premium: {debug.premium} ||| Special String: '{debug.special_string}' ||| Session: Daily {session.visitCount}, Total {session.totalVisitCount}, Time {session.timeOfDay}, Weekend: {session.isWeekend}",
      "delay": 2000,
      "nextMessageId": 1500,
      "type": "bot"
    },
    {
      "id": 1500,
      "choices": [
        {
          "text": "\ud83d\udd01 Run Test Again",
          "sequenceId": "autoroute_debug"
        },
        {
          "text": "\ud83c\udfe0 Main Menu",
          "sequenceId": "menu"
        },
        {
          "text": "\ud83e\uddea Comprehensive Test",
          "sequenceId": "comprehensive_test"
        }
      ],
      "type": "choice"
    }
  ]
}