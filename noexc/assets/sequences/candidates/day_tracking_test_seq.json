{
  "sequenceId": "day_tracking_test_seq",
  "name": "Day Tracking Test",
  "description": "Test sequence for current and previous day tracking features",
  "messages": [
    {
      "id": 1,
      "type": "bot",
      "text": "Welcome to the Day Tracking Test! Let's check your task status.",
      "nextMessageId": 2
    },
    {
      "id": 2,
      "type": "bot",
      "text": "Today is {task.currentDate} and your current task status is: {task.currentStatus}",
      "nextMessageId": 3
    },
    {
      "id": 3,
      "type": "autoroute",
      "routes": [
        {
          "condition": "task.previousStatus == pending",
          "nextMessageId": 10
        },
        {
          "condition": "task.previousStatus == completed",
          "nextMessageId": 20
        },
        {
          "condition": "task.previousStatus == failed",
          "nextMessageId": 30
        },
        {
          "default": true,
          "nextMessageId": 40
        }
      ]
    },
    {
      "id": 10,
      "type": "bot",
      "text": "I see you have a pending task from {task.previousDate}: \"{task.previousTask}\"",
      "nextMessageId": 11
    },
    {
      "id": 11,
      "type": "bot",
      "text": "Did you manage to complete it yesterday?",
      "nextMessageId": 12
    },
    {
      "id": 12,
      "type": "choice",
      "storeKey": "task.previousStatus",
      "choices": [
        {
          "text": "Yes, I completed it!",
          "value": "completed",
          "nextMessageId": 21
        },
        {
          "text": "No, I didn't get to it",
          "value": "failed",
          "nextMessageId": 31
        }
      ]
    },
    {
      "id": 20,
      "type": "bot",
      "text": "Great! I see you completed \"{task.previousTask}\" from {task.previousDate}. Well done!",
      "nextMessageId": 40
    },
    {
      "id": 21,
      "type": "bot",
      "text": "Excellent! Thanks for letting me know you completed it.",
      "nextMessageId": 40
    },
    {
      "id": 30,
      "type": "bot",
      "text": "I see the task \"{task.previousTask}\" from {task.previousDate} wasn't completed. That's okay!",
      "nextMessageId": 40
    },
    {
      "id": 31,
      "type": "bot",
      "text": "No worries! Let's focus on today instead.",
      "nextMessageId": 40
    },
    {
      "id": 40,
      "type": "bot",
      "text": "Now let's check your current task for today ({task.currentDate}).",
      "nextMessageId": 41
    },
    {
      "id": 41,
      "type": "autoroute",
      "routes": [
        {
          "condition": "user.task != null",
          "nextMessageId": 50
        },
        {
          "default": true,
          "nextMessageId": 60
        }
      ]
    },
    {
      "id": 50,
      "type": "bot",
      "text": "Your current task is: \"{user.task}\" (Status: {task.currentStatus})",
      "nextMessageId": 51
    },
    {
      "id": 51,
      "type": "choice",
      "storeKey": "task.currentStatus",
      "choices": [
        {
          "text": "Mark as completed",
          "value": "completed",
      "nextMessageId": 70
        },
        {
          "text": "Still working on it",
          "value": "pending",
      "nextMessageId": 70
        }
      ]
    },
    {
      "id": 60,
      "type": "bot",
      "text": "You don't have a task set yet. Let's set one!",
      "nextMessageId": 61
    },
    {
      "id": 61,
      "type": "textInput",
      "text": "What would you like to accomplish today?",
      "storeKey": "user.task",
      "nextMessageId": 62
    },
    {
      "id": 62,
      "type": "bot",
      "text": "Perfect! Your task for today is: \"{user.task}\"",
      "nextMessageId": 70
    },
    {
      "id": 70,
      "type": "bot",
      "text": "Summary:|||Today ({task.currentDate}): {user.task|No task} - {task.currentStatus}|||Previous ({task.previousDate|None}): {task.previousTask|No previous task} - {task.previousStatus|None}",
      "nextMessageId": 71
    },
    {
      "id": 71,
      "type": "autoroute",
      "routes": [
        {
          "condition": "task.autoUpdateReason != null",
          "nextMessageId": 72
        },
        {
          "default": true,
          "nextMessageId": 75
        }
      ]
    },
    {
      "id": 72,
      "type": "bot",
      "text": "ðŸ“± Automatic Status Update:",
      "nextMessageId": 73
    },
    {
      "id": 73,
      "type": "bot", 
      "text": "{task.autoUpdateReason}|||Last updated: {task.lastAutoUpdate}",
      "nextMessageId": 75
    },
    {
      "id": 75,
      "type": "bot",
      "text": "Test complete! This sequence demonstrates:|||â€¢ Current day tracking ({task.currentDate}, {task.currentStatus})|||â€¢ Previous day tracking ({task.previousDate|none}, {task.previousStatus|none})|||â€¢ Automatic status updates (overdue, fresh start)|||â€¢ Template variables with fallbacks|||â€¢ Conditional routing based on task status"
    }
  ]
}