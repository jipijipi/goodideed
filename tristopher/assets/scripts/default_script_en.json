{
  "id": "debug_test_script_en",
  "version": "1.0.0",
  "metadata": {
    "author": "Tristopher Team",
    "created_at": "2024-01-15T10:00:00Z",
    "description": "Debug script to test response handling",
    "supported_languages": ["en"],
    "is_active": true
  },
  "global_variables": {
    "robot_personality_level": 5,
    "default_delay_ms": 1000
  },
  "daily_events": [
    {
      "id": "simple_test_start",
      "trigger": {
        "type": "time_window",
        "start": "00:00",
        "end": "23:59",
        "conditions": {}
      },
      "priority": 20,
      "variants": [
        {
          "id": "start_variant",
          "weight": 1.0,
          "conditions": {},
          "messages": [
            {
              "type": "text",
              "sender": "tristopher",
              "content": "Well, well, well. Another human who thinks they can change.",
              "delay": 1000
            },
            {
              "type": "text",
              "sender": "tristopher",
              "content": "I'm Tristopher. Your brutally honest accountability partner.",
              "delay": 2000
            },
            {
              "type": "options",
              "sender": "tristopher",
              "content": "Let's start with something simple. How are you feeling?",
              "options": [
                {
                  "id": "good",
                  "text": "I'm feeling good!",
                  "nextEventId": "response_good",
                  "setVariables": {
                    "mood": "good",
                    "first_interaction": true
                  }
                },
                {
                  "id": "bad",
                  "text": "Not so great",
                  "nextEventId": "response_bad",
                  "setVariables": {
                    "mood": "bad",
                    "first_interaction": true
                  }
                },
                {
                  "id": "neutral",
                  "text": "Just okay",
                  "nextEventId": "response_neutral",
                  "setVariables": {
                    "mood": "neutral",
                    "first_interaction": true
                  }
                }
              ]
            }
          ]
        }
      ],
      "responses": {}
    },
    {
      "id": "response_good",
      "trigger": {
        "type": "user_action",
        "conditions": {}
      },
      "priority": 19,
      "variants": [
        {
          "id": "good_variant",
          "weight": 1.0,
          "conditions": {},
          "messages": [
            {
              "type": "text",
              "sender": "tristopher",
              "content": "Feeling good? How... optimistic. We'll see how long that lasts.",
              "delay": 1500
            },
            {
              "type": "options",
              "sender": "tristopher",
              "content": "What's your main goal? Pick something you'll inevitably fail at:",
              "options": [
                {
                  "id": "exercise",
                  "text": "Exercise daily",
                  "nextEventId": "habit_selected",
                  "setVariables": {
                    "main_habit": "exercise"
                  }
                },
                {
                  "id": "study",
                  "text": "Study something",
                  "nextEventId": "habit_selected",
                  "setVariables": {
                    "main_habit": "study"
                  }
                }
              ]
            }
          ]
        }
      ],
      "responses": {}
    },
    {
      "id": "response_bad",
      "trigger": {
        "type": "user_action",
        "conditions": {}
      },
      "priority": 19,
      "variants": [
        {
          "id": "bad_variant",
          "weight": 1.0,
          "conditions": {},
          "messages": [
            {
              "type": "text",
              "sender": "tristopher",
              "content": "Not so great? Finally, some honesty. I can work with that.",
              "delay": 1500
            },
            {
              "type": "text",
              "sender": "tristopher",
              "content": "Maybe a goal will give you something to focus on... or fail at. Either way, entertaining for me.",
              "delay": 2000
            }
          ]
        }
      ],
      "responses": {}
    },
    {
      "id": "response_neutral",
      "trigger": {
        "type": "user_action",
        "conditions": {}
      },
      "priority": 19,
      "variants": [
        {
          "id": "neutral_variant",
          "weight": 1.0,
          "conditions": {},
          "messages": [
            {
              "type": "text",
              "sender": "tristopher",
              "content": "Just okay? The battle cry of the perpetually mediocre.",
              "delay": 1500
            }
          ]
        }
      ],
      "responses": {}
    },
    {
      "id": "habit_selected",
      "trigger": {
        "type": "user_action",
        "conditions": {}
      },
      "priority": 18,
      "variants": [
        {
          "id": "habit_variant",
          "weight": 1.0,
          "conditions": {},
          "messages": [
            {
              "type": "text",
              "sender": "tristopher",
              "content": "{{main_habit}}? How predictable. Let me guess - you've tried this before?",
              "delay": 1500
            },
            {
              "type": "text",
              "sender": "tristopher",
              "content": "Before we continue with this inevitable disappointment...",
              "delay": 2000
            },
            {
              "type": "input",
              "sender": "tristopher",
              "content": "What should I call you while you fail at {{main_habit}}?",
              "inputConfig": {
                "hint": "Enter your name",
                "keyboardType": "TextInputType.text",
                "maxLength": 20
              },
              "nextEventId": "name_provided"
            }
          ]
        }
      ],
      "responses": {}
    },
    {
      "id": "name_provided",
      "trigger": {
        "type": "user_action",
        "conditions": {}
      },
      "priority": 17,
      "variants": [
        {
          "id": "name_variant",
          "weight": 1.0,
          "conditions": {},
          "messages": [
            {
              "type": "text",
              "sender": "tristopher",
              "content": "{{last_input}}... I'll try to remember that when you inevitably give up.",
              "delay": 1500
            },
            {
              "type": "text",
              "sender": "tristopher",
              "content": "Here's how this works, {{last_input}}: You fail at {{main_habit}}, your money goes to something you hate.",
              "delay": 2500
            },
            {
              "type": "text",
              "sender": "tristopher",
              "content": "Welcome to Tristopher. I'll be watching your inevitable failure with great interest.",
              "delay": 2000
            }
          ]
        }
      ],
      "responses": {}
    }
  ],
  "plot_timeline": {},
  "message_templates": {
    "daily_greeting": {
      "text": "Good morning, {{last_input}}. Day {{day_number}} of your inevitable disappointment.",
      "variables": ["last_input", "day_number"]
    },
    "habit_reminder": {
      "text": "Don't forget about your {{main_habit}}, {{last_input}}. Your wallet is watching.",
      "variables": ["main_habit", "last_input"]
    },
    "personal_mockery": {
      "text": "{{last_input}}, your {{main_habit}} progress is... predictably disappointing.",
      "variables": ["last_input", "main_habit"]
    },
    "name_confirmation": {
      "text": "So {{last_input}} wants to {{main_habit}}. How... optimistic.",
      "variables": ["last_input", "main_habit"]
    }
  }
}
